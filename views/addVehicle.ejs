<div class="position-fixed top-0 right-0 d-flex flex-column"><%- include('partials/header') %></div>

<div class="container position-relative w-75 mt-5" style="left: 8%">
	<h1 class="border-bottom border-success border-4 text-capitalize">add vehicle details</h1>
	<form
		action="/addVehicle"
		method="POST"
		class="bg-dark text-light p-4 rounded text-capitalize needs-validation"
		novalidate
	>
		<div class="row my-2">
			<div class="col">
				<label for="id" class="form-label">vehicle ID</label>
				<input
					type="text"
					name="id"
					placeholder="Enter ID"
					class="form-control"
					id="id"
					required
				/>
				<div class="invalid-feedback">required!</div>
			</div>
			<div class="col">
				<label for="vehicle_type" class="form-label">vehicle type</label>
				<input
					type="text"
					name="vehicle_type"
					placeholder="Enter vehicle type"
					class="form-control"
					id="vehicle_type"
					required
				/>
				<div class="invalid-feedback">required!</div>
			</div>
		</div>
		<div class="row my-2">
			<div class="col-6">
				<label for="capacity" class="form-label">capacity</label>
				<input
					type="text"
					name="capacity"
					placeholder="Enter capacity"
					class="form-control"
					id="capacity"
					pattern="[0-9]{3,5}"
					required
				/>
				<div class="invalid-feedback">required!</div>
			</div>
		</div>

		<button type="submit" class="btn btn-success btn-lg text-capitalize mt-5">submit</button>
	</form>
</div>
<script>
	(function () {
		"use strict";

		var forms = document.querySelectorAll(".needs-validation");

		Array.prototype.slice.call(forms).forEach(function (form) {
			form.addEventListener(
				"submit",
				function (event) {
					if (!form.checkValidity()) {
						event.preventDefault();
						event.stopPropagation();
					}

					form.classList.add("was-validated");
				},
				false
			);
		});
	})();
	let res = "<%= result%>";
	if (res != "") {
		alert("success! redirecting...");
		setTimeout(() => {
			location.replace(res);
		}, 2000);
	}
</script>
<%- include('partials/footer') %>
